(function(){[Element,Window,Document].invoke("implement",{hasEvent:function(b){var a=this.retrieve("events");if(b=a&&a[b]?a[b].values:null)for(a=b.length;a--;)if(a in b)return!0;return!1}});var d=function(b,a,e){a=b[a];e=b[e];return function(b,c){e&&!this.hasEvent(c)&&e.call(this,b,c);a&&a.call(this,b,c)}},f=function(b,a,e){return function(c,d){a[e].call(this,c,d);b[e].call(this,c,d)}},c=Element.Events;Element.defineCustomEvent=function(b,a){var e=c[a.base];a.onAdd=d(a,"onAdd","onSetup");a.onRemove=d(a,"onRemove","onTeardown");c[b]=e?Object.append({},a,{base:e.base,condition:function(b,c){return(!e.condition||e.condition.call(this,b,c))&&(!a.condition||a.condition.call(this,b,c))},onAdd:f(a,e,"onAdd"),onRemove:f(a,e,"onRemove")}):a;return this};Element.enableCustomEvents=function(){Object.each(c,function(b,a){b.onEnable&&b.onEnable.call(b,a)})};Element.disableCustomEvents=function(){Object.each(c,function(b,a){b.onDisable&&b.onDisable.call(b,a)})}})();Browser.Features.Touch=function(){try{return document.createEvent("TouchEvent").initTouchEvent("touchstart"),!0}catch(d){}return!1}();Browser.Features.iOSTouch=function(){var d=document.html,f=!1;if(!d.addEventListener)return!1;var c=function(){d.removeEventListener("cantouch",c,!0);f=!0};try{d.addEventListener("cantouch",c,!0);var b=document.createEvent("TouchEvent");b.initTouchEvent("cantouch");d.dispatchEvent(b);return f}catch(a){}c();return!1}();(function(){var d={},f,c,b=function(){c=!1},a={touchstart:function(a){1<a.touches.length||(a=a.touches[0],c=!0,d={x:a.pageX,y:a.pageY})},touchmove:function(a){if(!f&&c){var b=a.changedTouches[0],b={x:b.pageX,y:b.pageY};if(this.retrieve("swipe:cancelVertical")&&10<Math.abs(d.y-b.y))c=!1;else{var g=this.retrieve("swipe:distance",50),h=b.x-d.x,k=h<-g;if(h>g||k)a.preventDefault(),c=!1,a.direction=k?"left":"right",a.start=d,a.end=b,this.fireEvent("swipe",a)}}},touchend:b,touchcancel:b};Element.defineCustomEvent("swipe",{onSetup:function(){this.addEvents(a)},onTeardown:function(){this.removeEvents(a)},onEnable:function(){f=!1},onDisable:function(){f=!0;c=!1}})})();